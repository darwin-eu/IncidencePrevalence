<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Calculate incidence and prevalence using data mapped to the Observational Medical Outcomes Partnership (OMOP) common data model. Incidence and prevalence can be estimated for the total population in a database or for a stratification cohort.">
<title>Estimate Incidence and Prevalence using the OMOP Common Data Model â€¢ IncidencePrevalence</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Estimate Incidence and Prevalence using the OMOP Common Data Model">
<meta property="og:description" content="Calculate incidence and prevalence using data mapped to the Observational Medical Outcomes Partnership (OMOP) common data model. Incidence and prevalence can be estimated for the total population in a database or for a stratification cohort.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">IncidencePrevalence</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/a01_Introduction_to_IncidencePrevalence.html">Introduction to IncidencePrevalence</a>
    <a class="dropdown-item" href="articles/a02_Creating_denominator_populations.html">Creating denominator cohorts</a>
    <a class="dropdown-item" href="articles/a03_Creating_outcome_cohorts.html">Creating outcome cohorts</a>
    <a class="dropdown-item" href="articles/a04_Calculating_prevalence.html">Calculating prevalence</a>
    <a class="dropdown-item" href="articles/a05_Calculating_incidence.html">Calculating incidence</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="incidenceprevalence-">IncidencePrevalence <img src="reference/figures/hexsticker.png" align="right" height="139"><a class="anchor" aria-label="anchor" href="#incidenceprevalence-"></a>
</h1></div>
<p><a href="https://CRAN.R-project.org/package=IncidencePrevalence" class="external-link"><img src="https://www.r-pkg.org/badges/version/IncidencePrevalence" alt="CRANstatus"></a> <a href="https://codecov.io/github/darwin-eu/IncidencePrevalence?branch=main" class="external-link"><img src="https://codecov.io/github/darwin-eu/IncidencePrevalence/coverage.svg?branch=main" alt="codecov.io"></a> <a href="https://github.com/darwin-eu/IncidencePrevalence/actions" class="external-link"><img src="https://github.com/darwin-eu/IncidencePrevalence/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a> <a href="https://lifecycle.r-lib.org/articles/stages.html" class="external-link"><img src="https://img.shields.io/badge/Lifecycle-Experimental-339999" alt="Lifecycle:Experimental"></a></p>
<div class="section level2">
<h2 id="package-overview">Package overview<a class="anchor" aria-label="anchor" href="#package-overview"></a>
</h2>
<p>IncidencePrevalence contains functions for estimating population-level incidence and prevalence using the OMOP common data model.</p>
</div>
<div class="section level2">
<h2 id="package-installation">Package installation<a class="anchor" aria-label="anchor" href="#package-installation"></a>
</h2>
<p>You can install the latest version of IncidencePrevalence like so:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"darwin-eu/IncidencePrevalence"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example-usage">Example usage<a class="anchor" aria-label="anchor" href="#example-usage"></a>
</h2>
<div class="section level3">
<h3 id="create-a-reference-to-data-in-the-omop-cdm-format">Create a reference to data in the OMOP CDM format<a class="anchor" aria-label="anchor" href="#create-a-reference-to-data-in-the-omop-cdm-format"></a>
</h3>
<p>The IncidencePrevalence package is designed to work with data in the OMOP CDM format, so our first step is to create a reference to the data using the CDMConnector package.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">CDMConnector</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://darwin-eu.github.io/IncidencePrevalence/">IncidencePrevalence</a></span><span class="op">)</span></span></code></pre></div>
<p>Creating a connection to a Postgres database would for example look like:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">con</span> <span class="op">&lt;-</span> <span class="fu">DBI</span><span class="fu">::</span><span class="fu"><a href="https://dbi.r-dbi.org/reference/dbConnect.html" class="external-link">dbConnect</a></span><span class="op">(</span><span class="fu">RPostgres</span><span class="fu">::</span><span class="fu"><a href="https://rpostgres.r-dbi.org/reference/Postgres.html" class="external-link">Postgres</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>                      dbname <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"CDM5_POSTGRESQL_DBNAME"</span><span class="op">)</span>,</span>
<span>                      host <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"CDM5_POSTGRESQL_HOST"</span><span class="op">)</span>,</span>
<span>                      user <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"CDM5_POSTGRESQL_USER"</span><span class="op">)</span>,</span>
<span>                      password <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"CDM5_POSTGRESQL_PASSWORD"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">cdm</span> <span class="op">&lt;-</span> <span class="fu">CDMConnector</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/CDMConnector/man/cdm_from_con.html" class="external-link">cdm_from_con</a></span><span class="op">(</span><span class="va">con</span>, </span>
<span>                    cdm_schema <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"CDM5_POSTGRESQL_CDM_SCHEMA"</span><span class="op">)</span>, </span>
<span>                    write_schema <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"CDM5_POSTGRESQL_RESULT_SCHEMA"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>To see how you would create a reference to your database please consult the CDMConnector package documentation. For this example though weÂ´ll work with simulated data, and weâ€™ll generate an example cdm reference like so:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cdm</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/mockIncidencePrevalenceRef.html">mockIncidencePrevalenceRef</a></span><span class="op">(</span>sampleSize <span class="op">=</span> <span class="fl">5000</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="identify-a-denominator-cohort">Identify a denominator cohort<a class="anchor" aria-label="anchor" href="#identify-a-denominator-cohort"></a>
</h3>
<p>To identify a set of denominator cohorts we can use the <code>generateDenominatorCohortSet</code> function. Here we want to identify denominator populations for a study period between 2008 and 2018 and with 180 days of prior history (observation time in the database). We also wish to consider multiple age groups (from 0 to 64, and 65 to 100) and multiple sex criteria (one cohort only males, one only females, and one with both sexes included).</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cdm</span><span class="op">$</span><span class="va">denominator</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/generateDenominatorCohortSet.html">generateDenominatorCohortSet</a></span><span class="op">(</span></span>
<span>  cdm <span class="op">=</span> <span class="va">cdm</span>,</span>
<span>  startDate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2008-01-01"</span><span class="op">)</span>,</span>
<span>  endDate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2018-01-01"</span><span class="op">)</span>,</span>
<span>  ageGroup <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">64</span><span class="op">)</span>,</span>
<span>                  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">65</span>,<span class="fl">100</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  sex <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Male"</span>, <span class="st">"Female"</span>, <span class="st">"Both"</span><span class="op">)</span>,</span>
<span>  daysPriorHistory <span class="op">=</span> <span class="fl">180</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>This will then give us six denominator cohorts</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/CDMConnector/man/cohortSet.html" class="external-link">cohortSet</a></span><span class="op">(</span><span class="va">cdm</span><span class="op">$</span><span class="va">denominator</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 6 Ã— 9</span></span>
<span><span class="co">#&gt;   cohort_definition_id cohort_name age_group sex   days_prior_history start_date</span></span>
<span><span class="co">#&gt;                  &lt;int&gt; &lt;chr&gt;       &lt;chr&gt;     &lt;chr&gt;              &lt;dbl&gt; &lt;date&gt;    </span></span>
<span><span class="co">#&gt; 1                    1 Denominatoâ€¦ 0;64      Male                 180 2008-01-01</span></span>
<span><span class="co">#&gt; 2                    2 Denominatoâ€¦ 0;64      Femaâ€¦                180 2008-01-01</span></span>
<span><span class="co">#&gt; 3                    3 Denominatoâ€¦ 0;64      Both                 180 2008-01-01</span></span>
<span><span class="co">#&gt; 4                    4 Denominatoâ€¦ 65;100    Male                 180 2008-01-01</span></span>
<span><span class="co">#&gt; 5                    5 Denominatoâ€¦ 65;100    Femaâ€¦                180 2008-01-01</span></span>
<span><span class="co">#&gt; 6                    6 Denominatoâ€¦ 65;100    Both                 180 2008-01-01</span></span>
<span><span class="co">#&gt; # â„¹ 3 more variables: end_date &lt;date&gt;, strata_cohort_definition_id &lt;lgl&gt;,</span></span>
<span><span class="co">#&gt; #   strata_cohort_name &lt;lgl&gt;</span></span></code></pre></div>
<p>These cohorts will be in the typical OMOP CDM structure</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cdm</span><span class="op">$</span><span class="va">denominator</span></span>
<span><span class="co">#&gt; # Source:   table&lt;dbplyr_008&gt; [?? x 4]</span></span>
<span><span class="co">#&gt; # Database: DuckDB 0.7.1 [eburn@Windows 10 x64:R 4.2.1/:memory:]</span></span>
<span><span class="co">#&gt;    cohort_definition_id subject_id cohort_start_date cohort_end_date</span></span>
<span><span class="co">#&gt;                   &lt;int&gt; &lt;chr&gt;      &lt;date&gt;            &lt;date&gt;         </span></span>
<span><span class="co">#&gt;  1                    1 14         2010-04-17        2010-11-27     </span></span>
<span><span class="co">#&gt;  2                    1 15         2012-04-20        2012-08-08     </span></span>
<span><span class="co">#&gt;  3                    1 17         2015-03-01        2015-10-06     </span></span>
<span><span class="co">#&gt;  4                    1 25         2010-01-05        2010-02-11     </span></span>
<span><span class="co">#&gt;  5                    1 26         2010-11-03        2012-07-07     </span></span>
<span><span class="co">#&gt;  6                    1 30         2017-05-07        2017-10-30     </span></span>
<span><span class="co">#&gt;  7                    1 31         2011-09-26        2012-09-02     </span></span>
<span><span class="co">#&gt;  8                    1 42         2008-01-01        2008-02-18     </span></span>
<span><span class="co">#&gt;  9                    1 55         2008-05-24        2009-05-02     </span></span>
<span><span class="co">#&gt; 10                    1 56         2012-07-24        2013-11-02     </span></span>
<span><span class="co">#&gt; # â„¹ more rows</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="instantiate-an-outcome-cohort">Instantiate an outcome cohort<a class="anchor" aria-label="anchor" href="#instantiate-an-outcome-cohort"></a>
</h3>
<p>Outcome cohorts for which we want to estimate incidence or prevalence need to be created. If the outcome cohorts are defined as JSON, we can use the CDMConnector package to read in and generate the cohorts.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">outcome_cohorts</span> <span class="op">&lt;-</span> <span class="fu">CDMConnector</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/CDMConnector/man/read_cohort_set.html" class="external-link">readCohortSet</a></span><span class="op">(</span><span class="st">"path_to_outcome_cohort_definitions"</span><span class="op">)</span></span>
<span><span class="va">cdm</span> <span class="op">&lt;-</span> <span class="fu">CDMConnector</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/CDMConnector/man/generateCohortSet.html" class="external-link">generateCohortSet</a></span><span class="op">(</span>cdm <span class="op">=</span> <span class="va">cdm</span>, </span>
<span>                                       cohortSet <span class="op">=</span> <span class="va">outcome_cohorts</span>,</span>
<span>                                       cohortTableName <span class="op">=</span> <span class="st">"outcome_table_name"</span></span>
<span>                                       <span class="op">)</span></span></code></pre></div>
<p>Note, in our example cdm reference we already have an outcome cohort defined</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cdm</span><span class="op">$</span><span class="va">outcome</span></span>
<span><span class="co">#&gt; # Source:   table&lt;main.outcome&gt; [?? x 4]</span></span>
<span><span class="co">#&gt; # Database: DuckDB 0.7.1 [eburn@Windows 10 x64:R 4.2.1/:memory:]</span></span>
<span><span class="co">#&gt;    cohort_definition_id subject_id cohort_start_date cohort_end_date</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;                &lt;chr&gt;      &lt;date&gt;            &lt;date&gt;         </span></span>
<span><span class="co">#&gt;  1 1                    1          2014-07-01        2014-07-09     </span></span>
<span><span class="co">#&gt;  2 1                    2          2018-06-25        2018-07-03     </span></span>
<span><span class="co">#&gt;  3 1                    3          2006-09-10        2006-09-18     </span></span>
<span><span class="co">#&gt;  4 1                    4          2010-10-06        2010-10-14     </span></span>
<span><span class="co">#&gt;  5 1                    5          2006-09-16        2006-09-24     </span></span>
<span><span class="co">#&gt;  6 1                    6          2019-06-08        2019-06-16     </span></span>
<span><span class="co">#&gt;  7 1                    7          2010-06-26        2010-07-04     </span></span>
<span><span class="co">#&gt;  8 1                    8          2008-09-21        2008-09-29     </span></span>
<span><span class="co">#&gt;  9 1                    9          2019-06-26        2019-07-04     </span></span>
<span><span class="co">#&gt; 10 1                    10         2019-03-21        2019-03-29     </span></span>
<span><span class="co">#&gt; # â„¹ more rows</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="estimating-incidence-and-prevalence">Estimating incidence and prevalence<a class="anchor" aria-label="anchor" href="#estimating-incidence-and-prevalence"></a>
</h3>
<p>Now we have identified our denominator population, we can calculate incidence and prevalence as below.</p>
<p>For this example weÂ´ll estimate incidence on a yearly basis, allowing individuals to have multiple events but with an outcome washout of 180 days. We also require that only complete database intervals are included, by which we mean that the database must have individuals observed throughout a year for that year to be included in the analysis. Note, we also specify a minimum cell count of 5, under which estimates will be obscured.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">inc</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/estimateIncidence.html">estimateIncidence</a></span><span class="op">(</span></span>
<span>  cdm <span class="op">=</span> <span class="va">cdm</span>,</span>
<span>  denominatorTable <span class="op">=</span> <span class="st">"denominator"</span>,</span>
<span>  outcomeTable <span class="op">=</span> <span class="st">"outcome"</span>,</span>
<span>  interval <span class="op">=</span> <span class="st">"years"</span>,</span>
<span>  repeatedEvents <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  outcomeWashout <span class="op">=</span> <span class="fl">180</span>,</span>
<span>  completeDatabaseIntervals <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  minCellCount <span class="op">=</span> <span class="fl">5</span></span>
<span><span class="op">)</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">inc</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 60</span></span>
<span><span class="co">#&gt; Columns: 12</span></span>
<span><span class="co">#&gt; $ analysis_id                     &lt;chr&gt; "1", "1", "1", "1", "1", "1", "1", "1"â€¦</span></span>
<span><span class="co">#&gt; $ n_persons                       &lt;int&gt; 194, 156, 174, 185, 192, 156, 165, 156â€¦</span></span>
<span><span class="co">#&gt; $ person_days                     &lt;dbl&gt; 29026, 21658, 23094, 30744, 27909, 234â€¦</span></span>
<span><span class="co">#&gt; $ n_events                        &lt;int&gt; 60, 62, 54, 62, 70, 51, 60, 53, 54, 40â€¦</span></span>
<span><span class="co">#&gt; $ incidence_start_date            &lt;date&gt; 2008-01-01, 2009-01-01, 2010-01-01, 2â€¦</span></span>
<span><span class="co">#&gt; $ incidence_end_date              &lt;date&gt; 2008-12-31, 2009-12-31, 2010-12-31, 2â€¦</span></span>
<span><span class="co">#&gt; $ person_years                    &lt;dbl&gt; 79.46886, 59.29637, 63.22793, 84.17248â€¦</span></span>
<span><span class="co">#&gt; $ incidence_100000_pys            &lt;dbl&gt; 75501.27, 104559.52, 85405.30, 73658.2â€¦</span></span>
<span><span class="co">#&gt; $ incidence_100000_pys_95CI_lower &lt;dbl&gt; 57615.43, 80165.18, 64159.09, 56473.38â€¦</span></span>
<span><span class="co">#&gt; $ incidence_100000_pys_95CI_upper &lt;dbl&gt; 97185.11, 134040.58, 111435.39, 94426.â€¦</span></span>
<span><span class="co">#&gt; $ cohort_obscured                 &lt;chr&gt; "FALSE", "FALSE", "FALSE", "FALSE", "Fâ€¦</span></span>
<span><span class="co">#&gt; $ result_obscured                 &lt;chr&gt; "FALSE", "FALSE", "FALSE", "FALSE", "Fâ€¦</span></span></code></pre></div>
<p>We could also estimate point prevalence, as of the start of each calendar year like so:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prev_point</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/estimatePointPrevalence.html">estimatePointPrevalence</a></span><span class="op">(</span></span>
<span>  cdm <span class="op">=</span> <span class="va">cdm</span>,</span>
<span>  denominatorTable <span class="op">=</span> <span class="st">"denominator"</span>,</span>
<span>  outcomeTable <span class="op">=</span> <span class="st">"outcome"</span>,</span>
<span>  interval <span class="op">=</span> <span class="st">"years"</span>,</span>
<span>  timePoint <span class="op">=</span> <span class="st">"start"</span>,</span>
<span>  minCellCount <span class="op">=</span> <span class="fl">5</span></span>
<span><span class="op">)</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">prev_point</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 66</span></span>
<span><span class="co">#&gt; Columns: 10</span></span>
<span><span class="co">#&gt; $ analysis_id           &lt;chr&gt; "1", "1", "1", "1", "1", "1", "1", "1", "1", "1"â€¦</span></span>
<span><span class="co">#&gt; $ prevalence_start_date &lt;date&gt; 2008-01-01, 2009-01-01, 2010-01-01, 2011-01-01,â€¦</span></span>
<span><span class="co">#&gt; $ prevalence_end_date   &lt;date&gt; 2008-01-01, 2009-01-01, 2010-01-01, 2011-01-01,â€¦</span></span>
<span><span class="co">#&gt; $ n_cases               &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, â€¦</span></span>
<span><span class="co">#&gt; $ n_population          &lt;int&gt; 125, 102, 84, 103, 122, 86, 97, 102, 87, 86, 83,â€¦</span></span>
<span><span class="co">#&gt; $ prevalence            &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, â€¦</span></span>
<span><span class="co">#&gt; $ prevalence_95CI_lower &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, â€¦</span></span>
<span><span class="co">#&gt; $ prevalence_95CI_upper &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, â€¦</span></span>
<span><span class="co">#&gt; $ cohort_obscured       &lt;chr&gt; "FALSE", "FALSE", "FALSE", "FALSE", "FALSE", "FAâ€¦</span></span>
<span><span class="co">#&gt; $ result_obscured       &lt;chr&gt; "TRUE", "TRUE", "TRUE", "TRUE", "TRUE", "TRUE", â€¦</span></span></code></pre></div>
<p>And annual period prevalence where we again require complete database intervals and, in addition, only include those people who are observed in the data for the full year:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">prev_period</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/estimatePeriodPrevalence.html">estimatePeriodPrevalence</a></span><span class="op">(</span></span>
<span>  cdm <span class="op">=</span> <span class="va">cdm</span>,</span>
<span>  denominatorTable <span class="op">=</span> <span class="st">"denominator"</span>,</span>
<span>  outcomeTable <span class="op">=</span> <span class="st">"outcome"</span>,</span>
<span>  interval <span class="op">=</span> <span class="st">"years"</span>,</span>
<span>  completeDatabaseIntervals <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  fullContribution <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  minCellCount <span class="op">=</span> <span class="fl">5</span></span>
<span><span class="op">)</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">prev_period</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 60</span></span>
<span><span class="co">#&gt; Columns: 10</span></span>
<span><span class="co">#&gt; $ analysis_id           &lt;chr&gt; "1", "1", "1", "1", "1", "1", "1", "1", "1", "1"â€¦</span></span>
<span><span class="co">#&gt; $ prevalence_start_date &lt;date&gt; 2008-01-01, 2009-01-01, 2010-01-01, 2011-01-01,â€¦</span></span>
<span><span class="co">#&gt; $ prevalence_end_date   &lt;date&gt; 2008-12-31, 2009-12-31, 2010-12-31, 2011-12-31,â€¦</span></span>
<span><span class="co">#&gt; $ n_cases               &lt;int&gt; 11, 9, 8, 19, 9, 9, 19, 11, 10, 10, 14, 22, 22, â€¦</span></span>
<span><span class="co">#&gt; $ n_population          &lt;int&gt; 33, 22, 20, 42, 26, 27, 35, 24, 26, 21, 33, 38, â€¦</span></span>
<span><span class="co">#&gt; $ prevalence            &lt;dbl&gt; 0.3333333, 0.4090909, 0.4000000, 0.4523810, 0.34â€¦</span></span>
<span><span class="co">#&gt; $ prevalence_95CI_lower &lt;dbl&gt; 0.1975023, 0.2325582, 0.2188065, 0.3122339, 0.19â€¦</span></span>
<span><span class="co">#&gt; $ prevalence_95CI_upper &lt;dbl&gt; 0.5039211, 0.6126518, 0.6134185, 0.6005088, 0.53â€¦</span></span>
<span><span class="co">#&gt; $ cohort_obscured       &lt;chr&gt; "FALSE", "FALSE", "FALSE", "FALSE", "FALSE", "FAâ€¦</span></span>
<span><span class="co">#&gt; $ result_obscured       &lt;chr&gt; "FALSE", "FALSE", "FALSE", "FALSE", "FALSE", "FAâ€¦</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="combining-and-exporting-results">Combining and exporting results<a class="anchor" aria-label="anchor" href="#combining-and-exporting-results"></a>
</h3>
<p>After running different analyses We can use <code><a href="reference/gatherIncidencePrevalenceResults.html">gatherIncidencePrevalenceResults()</a></code> to bring together the results, adding outcome names and the database name to the output.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">study_results</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/gatherIncidencePrevalenceResults.html">gatherIncidencePrevalenceResults</a></span><span class="op">(</span></span>
<span>  cdm <span class="op">=</span> <span class="va">cdm</span>,</span>
<span>  resultList <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">inc</span>, <span class="va">prev_point</span>, <span class="va">prev_period</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">study_results</span><span class="op">$</span><span class="va">incidence_estimates</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 60</span></span>
<span><span class="co">#&gt; Columns: 30</span></span>
<span><span class="co">#&gt; $ result_id                               &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, â€¦</span></span>
<span><span class="co">#&gt; $ analysis_id                             &lt;chr&gt; "1", "1", "1", "1", "1", "1", â€¦</span></span>
<span><span class="co">#&gt; $ n_persons                               &lt;int&gt; 194, 156, 174, 185, 192, 156, â€¦</span></span>
<span><span class="co">#&gt; $ person_days                             &lt;dbl&gt; 29026, 21658, 23094, 30744, 27â€¦</span></span>
<span><span class="co">#&gt; $ n_events                                &lt;int&gt; 60, 62, 54, 62, 70, 51, 60, 53â€¦</span></span>
<span><span class="co">#&gt; $ incidence_start_date                    &lt;date&gt; 2008-01-01, 2009-01-01, 2010-â€¦</span></span>
<span><span class="co">#&gt; $ incidence_end_date                      &lt;date&gt; 2008-12-31, 2009-12-31, 2010-â€¦</span></span>
<span><span class="co">#&gt; $ person_years                            &lt;dbl&gt; 79.46886, 59.29637, 63.22793, â€¦</span></span>
<span><span class="co">#&gt; $ incidence_100000_pys                    &lt;dbl&gt; 75501.27, 104559.52, 85405.30,â€¦</span></span>
<span><span class="co">#&gt; $ incidence_100000_pys_95CI_lower         &lt;dbl&gt; 57615.43, 80165.18, 64159.09, â€¦</span></span>
<span><span class="co">#&gt; $ incidence_100000_pys_95CI_upper         &lt;dbl&gt; 97185.11, 134040.58, 111435.39â€¦</span></span>
<span><span class="co">#&gt; $ cohort_obscured                         &lt;chr&gt; "FALSE", "FALSE", "FALSE", "FAâ€¦</span></span>
<span><span class="co">#&gt; $ result_obscured                         &lt;chr&gt; "FALSE", "FALSE", "FALSE", "FAâ€¦</span></span>
<span><span class="co">#&gt; $ outcome_cohort_id                       &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, â€¦</span></span>
<span><span class="co">#&gt; $ outcome_cohort_name                     &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NAâ€¦</span></span>
<span><span class="co">#&gt; $ analysis_outcome_washout                &lt;dbl&gt; 180, 180, 180, 180, 180, 180, â€¦</span></span>
<span><span class="co">#&gt; $ analysis_repeated_events                &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, â€¦</span></span>
<span><span class="co">#&gt; $ analysis_interval                       &lt;chr&gt; "years", "years", "years", "yeâ€¦</span></span>
<span><span class="co">#&gt; $ analysis_complete_database_intervals    &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, â€¦</span></span>
<span><span class="co">#&gt; $ denominator_cohort_id                   &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, â€¦</span></span>
<span><span class="co">#&gt; $ analysis_min_cell_count                 &lt;dbl&gt; 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, â€¦</span></span>
<span><span class="co">#&gt; $ denominator_cohort_name                 &lt;chr&gt; "Denominator cohort 1", "Denomâ€¦</span></span>
<span><span class="co">#&gt; $ denominator_age_group                   &lt;chr&gt; "0;64", "0;64", "0;64", "0;64"â€¦</span></span>
<span><span class="co">#&gt; $ denominator_sex                         &lt;chr&gt; "Male", "Male", "Male", "Male"â€¦</span></span>
<span><span class="co">#&gt; $ denominator_days_prior_history          &lt;dbl&gt; 180, 180, 180, 180, 180, 180, â€¦</span></span>
<span><span class="co">#&gt; $ denominator_start_date                  &lt;date&gt; 2008-01-01, 2008-01-01, 2008-â€¦</span></span>
<span><span class="co">#&gt; $ denominator_end_date                    &lt;date&gt; 2018-01-01, 2018-01-01, 2018-â€¦</span></span>
<span><span class="co">#&gt; $ denominator_strata_cohort_definition_id &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NAâ€¦</span></span>
<span><span class="co">#&gt; $ denominator_strata_cohort_name          &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NAâ€¦</span></span>
<span><span class="co">#&gt; $ cdm_name                                &lt;chr&gt; "test database", "test databasâ€¦</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">study_results</span><span class="op">$</span><span class="va">incidence_attrition</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 70</span></span>
<span><span class="co">#&gt; Columns: 25</span></span>
<span><span class="co">#&gt; $ result_id                               &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, â€¦</span></span>
<span><span class="co">#&gt; $ analysis_id                             &lt;chr&gt; "1", "1", "1", "1", "1", "1", â€¦</span></span>
<span><span class="co">#&gt; $ number_records                          &lt;dbl&gt; 5000, 5000, 5000, 5000, 3811, â€¦</span></span>
<span><span class="co">#&gt; $ number_subjects                         &lt;dbl&gt; 5000, 5000, 5000, 5000, 3811, â€¦</span></span>
<span><span class="co">#&gt; $ reason_id                               &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 10, 11â€¦</span></span>
<span><span class="co">#&gt; $ reason                                  &lt;glue&gt; "Starting population", "Missiâ€¦</span></span>
<span><span class="co">#&gt; $ excluded_records                        &lt;dbl&gt; NA, 0, 0, 0, 1189, 0, 711, 155â€¦</span></span>
<span><span class="co">#&gt; $ excluded_subjects                       &lt;dbl&gt; NA, 0, 0, 0, 1189, 0, 711, 155â€¦</span></span>
<span><span class="co">#&gt; $ outcome_cohort_id                       &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, â€¦</span></span>
<span><span class="co">#&gt; $ outcome_cohort_name                     &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NAâ€¦</span></span>
<span><span class="co">#&gt; $ analysis_outcome_washout                &lt;dbl&gt; 180, 180, 180, 180, 180, 180, â€¦</span></span>
<span><span class="co">#&gt; $ analysis_repeated_events                &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, â€¦</span></span>
<span><span class="co">#&gt; $ analysis_interval                       &lt;chr&gt; "years", "years", "years", "yeâ€¦</span></span>
<span><span class="co">#&gt; $ analysis_complete_database_intervals    &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, â€¦</span></span>
<span><span class="co">#&gt; $ denominator_cohort_id                   &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, â€¦</span></span>
<span><span class="co">#&gt; $ analysis_min_cell_count                 &lt;dbl&gt; 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, â€¦</span></span>
<span><span class="co">#&gt; $ denominator_cohort_name                 &lt;chr&gt; "Denominator cohort 1", "Denomâ€¦</span></span>
<span><span class="co">#&gt; $ denominator_age_group                   &lt;chr&gt; "0;64", "0;64", "0;64", "0;64"â€¦</span></span>
<span><span class="co">#&gt; $ denominator_sex                         &lt;chr&gt; "Male", "Male", "Male", "Male"â€¦</span></span>
<span><span class="co">#&gt; $ denominator_days_prior_history          &lt;dbl&gt; 180, 180, 180, 180, 180, 180, â€¦</span></span>
<span><span class="co">#&gt; $ denominator_start_date                  &lt;date&gt; 2008-01-01, 2008-01-01, 2008-â€¦</span></span>
<span><span class="co">#&gt; $ denominator_end_date                    &lt;date&gt; 2018-01-01, 2018-01-01, 2018-â€¦</span></span>
<span><span class="co">#&gt; $ denominator_strata_cohort_definition_id &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NAâ€¦</span></span>
<span><span class="co">#&gt; $ denominator_strata_cohort_name          &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NAâ€¦</span></span>
<span><span class="co">#&gt; $ cdm_name                                &lt;chr&gt; "test database", "test databasâ€¦</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">study_results</span><span class="op">$</span><span class="va">prevalence_estimates</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 126</span></span>
<span><span class="co">#&gt; Columns: 30</span></span>
<span><span class="co">#&gt; $ result_id                               &lt;int&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, â€¦</span></span>
<span><span class="co">#&gt; $ analysis_id                             &lt;chr&gt; "1", "1", "1", "1", "1", "1", â€¦</span></span>
<span><span class="co">#&gt; $ prevalence_start_date                   &lt;date&gt; 2008-01-01, 2009-01-01, 2010-â€¦</span></span>
<span><span class="co">#&gt; $ prevalence_end_date                     &lt;date&gt; 2008-01-01, 2009-01-01, 2010-â€¦</span></span>
<span><span class="co">#&gt; $ n_cases                                 &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NAâ€¦</span></span>
<span><span class="co">#&gt; $ n_population                            &lt;int&gt; 125, 102, 84, 103, 122, 86, 97â€¦</span></span>
<span><span class="co">#&gt; $ prevalence                              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NAâ€¦</span></span>
<span><span class="co">#&gt; $ prevalence_95CI_lower                   &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NAâ€¦</span></span>
<span><span class="co">#&gt; $ prevalence_95CI_upper                   &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NAâ€¦</span></span>
<span><span class="co">#&gt; $ cohort_obscured                         &lt;chr&gt; "FALSE", "FALSE", "FALSE", "FAâ€¦</span></span>
<span><span class="co">#&gt; $ result_obscured                         &lt;chr&gt; "TRUE", "TRUE", "TRUE", "TRUE"â€¦</span></span>
<span><span class="co">#&gt; $ outcome_cohort_id                       &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, â€¦</span></span>
<span><span class="co">#&gt; $ outcome_cohort_name                     &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NAâ€¦</span></span>
<span><span class="co">#&gt; $ analysis_outcome_lookback_days          &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, â€¦</span></span>
<span><span class="co">#&gt; $ analysis_type                           &lt;chr&gt; "point", "point", "point", "poâ€¦</span></span>
<span><span class="co">#&gt; $ analysis_interval                       &lt;chr&gt; "years", "years", "years", "yeâ€¦</span></span>
<span><span class="co">#&gt; $ analysis_complete_database_intervals    &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FAâ€¦</span></span>
<span><span class="co">#&gt; $ analysis_time_point                     &lt;chr&gt; "start", "start", "start", "stâ€¦</span></span>
<span><span class="co">#&gt; $ analysis_full_contribution              &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FAâ€¦</span></span>
<span><span class="co">#&gt; $ analysis_min_cell_count                 &lt;dbl&gt; 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, â€¦</span></span>
<span><span class="co">#&gt; $ denominator_cohort_id                   &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, â€¦</span></span>
<span><span class="co">#&gt; $ denominator_cohort_name                 &lt;chr&gt; "Denominator cohort 1", "Denomâ€¦</span></span>
<span><span class="co">#&gt; $ denominator_age_group                   &lt;chr&gt; "0;64", "0;64", "0;64", "0;64"â€¦</span></span>
<span><span class="co">#&gt; $ denominator_sex                         &lt;chr&gt; "Male", "Male", "Male", "Male"â€¦</span></span>
<span><span class="co">#&gt; $ denominator_days_prior_history          &lt;dbl&gt; 180, 180, 180, 180, 180, 180, â€¦</span></span>
<span><span class="co">#&gt; $ denominator_start_date                  &lt;date&gt; 2008-01-01, 2008-01-01, 2008-â€¦</span></span>
<span><span class="co">#&gt; $ denominator_end_date                    &lt;date&gt; 2018-01-01, 2018-01-01, 2018-â€¦</span></span>
<span><span class="co">#&gt; $ denominator_strata_cohort_definition_id &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NAâ€¦</span></span>
<span><span class="co">#&gt; $ denominator_strata_cohort_name          &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NAâ€¦</span></span>
<span><span class="co">#&gt; $ cdm_name                                &lt;chr&gt; "test database", "test databasâ€¦</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">study_results</span><span class="op">$</span><span class="va">prevalence_attrition</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 140</span></span>
<span><span class="co">#&gt; Columns: 27</span></span>
<span><span class="co">#&gt; $ result_id                               &lt;int&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, â€¦</span></span>
<span><span class="co">#&gt; $ analysis_id                             &lt;chr&gt; "1", "1", "1", "1", "1", "1", â€¦</span></span>
<span><span class="co">#&gt; $ number_records                          &lt;dbl&gt; 5000, 5000, 5000, 5000, 3811, â€¦</span></span>
<span><span class="co">#&gt; $ number_subjects                         &lt;dbl&gt; 5000, 5000, 5000, 5000, 3811, â€¦</span></span>
<span><span class="co">#&gt; $ reason_id                               &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 10, 11â€¦</span></span>
<span><span class="co">#&gt; $ reason                                  &lt;glue&gt; "Starting population", "Missiâ€¦</span></span>
<span><span class="co">#&gt; $ excluded_records                        &lt;dbl&gt; NA, 0, 0, 0, 1189, 0, 711, 155â€¦</span></span>
<span><span class="co">#&gt; $ excluded_subjects                       &lt;dbl&gt; NA, 0, 0, 0, 1189, 0, 711, 155â€¦</span></span>
<span><span class="co">#&gt; $ outcome_cohort_id                       &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, â€¦</span></span>
<span><span class="co">#&gt; $ outcome_cohort_name                     &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NAâ€¦</span></span>
<span><span class="co">#&gt; $ analysis_outcome_lookback_days          &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, â€¦</span></span>
<span><span class="co">#&gt; $ analysis_type                           &lt;chr&gt; "point", "point", "point", "poâ€¦</span></span>
<span><span class="co">#&gt; $ analysis_interval                       &lt;chr&gt; "years", "years", "years", "yeâ€¦</span></span>
<span><span class="co">#&gt; $ analysis_complete_database_intervals    &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FAâ€¦</span></span>
<span><span class="co">#&gt; $ analysis_time_point                     &lt;chr&gt; "start", "start", "start", "stâ€¦</span></span>
<span><span class="co">#&gt; $ analysis_full_contribution              &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FAâ€¦</span></span>
<span><span class="co">#&gt; $ analysis_min_cell_count                 &lt;dbl&gt; 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, â€¦</span></span>
<span><span class="co">#&gt; $ denominator_cohort_id                   &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, â€¦</span></span>
<span><span class="co">#&gt; $ denominator_cohort_name                 &lt;chr&gt; "Denominator cohort 1", "Denomâ€¦</span></span>
<span><span class="co">#&gt; $ denominator_age_group                   &lt;chr&gt; "0;64", "0;64", "0;64", "0;64"â€¦</span></span>
<span><span class="co">#&gt; $ denominator_sex                         &lt;chr&gt; "Male", "Male", "Male", "Male"â€¦</span></span>
<span><span class="co">#&gt; $ denominator_days_prior_history          &lt;dbl&gt; 180, 180, 180, 180, 180, 180, â€¦</span></span>
<span><span class="co">#&gt; $ denominator_start_date                  &lt;date&gt; 2008-01-01, 2008-01-01, 2008-â€¦</span></span>
<span><span class="co">#&gt; $ denominator_end_date                    &lt;date&gt; 2018-01-01, 2018-01-01, 2018-â€¦</span></span>
<span><span class="co">#&gt; $ denominator_strata_cohort_definition_id &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NAâ€¦</span></span>
<span><span class="co">#&gt; $ denominator_strata_cohort_name          &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NAâ€¦</span></span>
<span><span class="co">#&gt; $ cdm_name                                &lt;chr&gt; "test database", "test databasâ€¦</span></span></code></pre></div>
<p>After gathering results, we can export them as CSVs in a zip folder using the <code><a href="reference/exportIncidencePrevalenceResults.html">exportIncidencePrevalenceResults()</a></code> function.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/exportIncidencePrevalenceResults.html">exportIncidencePrevalenceResults</a></span><span class="op">(</span></span>
<span>  result <span class="op">=</span> <span class="va">study_results</span>,</span>
<span>  zipName <span class="op">=</span> <span class="st">"example_results"</span>,</span>
<span>  outputFolder <span class="op">=</span> <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=IncidencePrevalence" class="external-link">View on CRAN</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>Apache License (&gt;= 2)</small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing IncidencePrevalence</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Edward Burn <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-9286-1128" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Berta Raventos <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-4668-2970" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Marti Catala <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0003-3308-9905" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Edward Burn, Berta Raventos, Marti Catala.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
